---
title: "About the functions of the midrangeMCP package"
resource_files:
  -vignettes/img/icon_BR.png
  -vignettes/img/icon_EUA.png
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{About the functions of the midrangeMCP package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
## Loading package
library(midrangeMCP)
##
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}

```





<!--
<a href="#"> <img   onclick="traduzir(1)" src="img/icon_EUA.png"  ></a>
<a href="#"> <img  onclick="traduzir(0)"src="img/icon_BR.png"  ></a>
-->








<h1 id="titulo_install">Install midrangeMCP package </h1>


<h5 id="subTitulo_arquivo">Archive.r (R Studio) </h5>




<script>
function traduzir(op) {

if (op==0){
 
document.querySelector("#titulo_install").innerHTML = "Instalando o Pacote midrangeMCP"
 document.querySelector("#subTitulo_arquivo").innerHTML = "Arquivo.r (R Studio)"
  document.querySelector("#titulo_Using").innerHTML = "Usando as funções básicas"
  document.querySelector("#tituto_Tests").innerHTML = "Testes"
}

if (op==1){

 
 document.querySelector("#titulo_install").innerHTML = "Install midrangeMCP package"
 document.querySelector("#subTitulo_arquivo").innerHTML = "Archive.r (R Studio)"
  document.querySelector("#titulo_Using").innerHTML = "Using the basic functions"
  document.querySelector("#tituto_Tests").innerHTML = "Tests"
  
}
}


</script>


~~~r
install.packages("midrangeMCP")
~~~
###### Console (R Studio)
~~~r
> install.packages("midrangeMCP")
tentando a URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/midrangeMCP_3.1.zip'
Content type 'application/zip' length 122987 bytes (120 KB)
downloaded 120 KB

package ‘midrangeMCP’ successfully unpacked and MD5 sums checked
~~~




<!--- -------------------------------
  PACOTE midrangeMCP :
------------------------------------>


 <p>
    <h1 align="rigth"> <img  alt="icon_CreatingApplication"  width="50" height="50" src="https://user-images.githubusercontent.com/59892368/115161200-a3d08600-a072-11eb-909d-c310c414bcfe.png"></img> MidrangeMCP Package </h1>
</p>




<!--- -------------------------------
  FUNÇÕES :
------------------------------------>
 <p>
    <h2  id="titulo_Using" align="rigth"> <img  alt="icon_CreatingApplication"  width="35" height="35" src="https://user-images.githubusercontent.com/59892368/115161725-ac768b80-a075-11eb-8766-a8cf33960acc.png"></img> The three main functions: </h2>
</p>


### MRtest Function: 

The MRtest function is expressed as follows:

> MRtest( y,  trt  =  NULL,  dferror  =  NULL,  mserror  =  NULL,
replication  =  NULL,  alpha  =  0.05,  main  =  NULL,
MCP  =  "all",  ismean  =  FALSE)

being:

* y: vector with the response variables, the desired model or the average of treatments;

* trt: vector with the levels of the factor under study. If y is an object that receives
a model of the functions lm () or aov (), in the argument trt you must indicate which
the model component represents the effect of the treatments. For example, if y
<- aov (vr ∼ treat), then trt = "treat". The default trt = NULL is
function protection if the user forgets to enter some information to
that argument;

* dferror: degree of freedom of the residue. This option will only be needed
when the argument y is a vector with the response variables or vector of treatment means. So the default for this argument is dferror = NULL;

* msferror: mean square of the residue. This option is necessary only when
the argument y is a vector with the response variables or vector of treatment means. So the default for this argument is mserror = NULL;

* alpha: level of significance adopted in the tests. The default is alpha = 0.05;

* replication: number of treatment repetitions. If the data are
unbalanced, the harmonic mean of these repetitions must be reported. This argument should be only when the argument is a vector of means or
the repetitions of the main treatments unbalanced. The default is replication
= NULL;

* main: title of your analysis;

* MCP: allows you to choose the desired multiple comparison test. The options are:
"MGM", "MGR", "SNKM", "TM" and "all". The latter is the default, which results in
calculate the four tests at once. If you want some tests, but not all,
this argument can be concatenated with the desired options. For example, if
want to perform the MGM and TM tests, just use MCP = c ("MGM",
"TM")

* ismean: logical argument. If ismean = TRUE, it is because the argument y is a
vector of treatment means. Otherwise, ismean = FALSE.



### MRbarplot Function: 

The MRbarplot function is expressed as follows:

> MRbarplot(x, MCP = "all", col = heat.colors(10),
horiz = FALSE, ...)

being:

* x:MRtest function object;

* MCP: allows you to choose the desired multiple comparison test. The default is
"all". This option will perform all the tests that were chosen on the object
MRtest. If you want some of the tests used on this object, you can concatenate it. See the MRCP function MCP argument;

* col: allows you to choose the color of the graph bars. The default is heat.colors (10).
The value 10 means the desired number of colors. If you want the graph to be colored on the black and white scale, you can choose the gray.colors (10) option;


* horiz: choose the direction of the bars. The default is horiz = FALSE, that is, bars
vertically. If you choose horiz = TRUE, the bars will be plotted horizontally;


* ... the function allows the user to add more arguments to the function
barplot.



### MRwrite Function:

The MRwrite function is expressed as follows:

> MRwrite(x, MCP = "all", extension = "csv",
dataMR = "all")


being:

* x: MRtest function object;

* MCP: allows you to choose the desired multiple comparison test. The default is
MCP = "all". This option will perform all the tests that were chosen in the
MRtest object. If you want some of the tests used on this object, you can
concatenate it. See the MRCP function MCP argument;

* extension: type of file format. There are four options: "csv", "txt",
"xlsx" and "latex". The default is "csv".

* dataMR: allows you to choose the results to be exported. There are three options:
"groups", "summary" or "all". The "groups" option exports groups
of treatment averages evaluated by choosing the test in the MCP argument. The "summary" option exports the descriptive statistics for the response variable. The option
"all" exports both results. 










<!--- -------------------------------
  TESTES :
------------------------------------>
 <p>
    <h2  id="titulo_Using" align="rigth"> <img  alt="icon_CreatingApplication"  width="35" height="35" src="https://user-images.githubusercontent.com/59892368/115166354-1c424180-a089-11eb-911f-44fa69a7642f.png"></img> Tests: </h2>
</p>


<!-- ACENTO LETRA: http://carinercrs.blogspot.com/2010/07/acentos-no-modo-matematico-em-latex.html 

https://www.ime.usp.br/~rfarias/simbolos.html

https://wp.ufpel.edu.br/fernandosimoes/files/2012/06/Simbolos-matematicos.pdf

https://xanadu1010.wordpress.com/2011/05/10/dominando-o-simbolo-somatorio-do-latex/


-->




### Tukey midrange test (TM test) : 

Os passos para a aplicação dos teste são:

<ol>



<!--------------  ITEM 01 -------------------------->
<li>
As médias dos tratamentos devem ser ordenadas: $\overline{Y}_{1}.,\overline{Y}_{2}.,..,\overline{Y}_{n}$ 
</li>
<br/>
<!--------------  ITEM 02 -------------------------->
<li>
 A diferença mínima significativa por:

$$ \Delta_{n} = \overline{q}_{\alpha/2;n;v} \sqrt{ \dfrac {QME} {r}}  +  \dfrac {1 }{\sqrt{2n}} \sqrt{\dfrac {QME} {r}}   $$

</li>

<br/>
<!--------------  ITEM 03 -------------------------->
<li>

Calcula-se o valor da estatítica, determinando-se $k$ e $\overline{Y}$ como descrito anteriormente, por:


$$\overline{r}_{n}= \dfrac {\overline{Y}_{1}+\overline{Y}_{n}} {2}-\overline{Y};$$
</li>

<br/>
<!--------------  ITEM 04 -------------------------->
<li>
Se $\mid \overline{r}_n \mid \leq \Delta_n $, então as $n$ médias serão consideradas não diferentes. Caso contrário, vai para o passo 5, considerando $m = n$ médias;

</li>

<br/>
<!--------------  ITEM 05 -------------------------->
<li>
 Faça $m = m-1$;

</li>


<br/>
<!--------------  ITEM 6 -------------------------->
<li>
Considerando os grupos de médias:$\overline{Y}_{(1)},\overline{Y}_{(2)},...,\overline{Y}_{(m)};\overline{Y}_{(2)},\overline{Y}_{(3)}...,\overline{Y}_{(m+1)};...;\overline{Y}_{(n-m+2)},...,\overline{Y}_{(n)};$ o número de grupos é dado por $l=n-m+1$;

</li>

<br/>
<!--------------  ITEM 07 -------------------------->
<li>
Para cada um do grupos com $m$ médias, é obtido

$$\overline{r}_m= \dfrac {}{}$$

</li>


<br/>
<!--------------  ITEM 08 -------------------------->
<li>
Para cada grupo obtido e marcado como divisível, considere m o número de médias
do grupo relacionado, devendo-se usar como diferença mínima significativa dada
por:

$$\Delta^*_n=\overline{q}_{(\alpha/2;n.v)} \sqrt{\dfrac{QME}{r}}; $$

</li>


<br/>
<!--------------  ITEM 09 -------------------------->
<li>
Se $\mid \overline{r}_m \mid \leq \Delta^*_n$, então as $m$ médias não diferem estatisticamente; caso contrário elas são diferentes nesse estágio;

</li>


<br/>
<!--------------  ITEM 10 -------------------------->
<li>
Repete-se o processo para todos os $l$ grupos de $m$ médias, refazendo-se os passos
7, 8 e 9. Terminado a comparação de todos os $l$ grupos de $m$ médias, retorna-se ao
passo 5, atualizando-se o valor de $m$. Isso deve ser repetido enquanto $m\geq 2 $.

</li>






</ol>











### SNK midrange test (SNKM test) : 

O algoritmo para o teste de SNKM é o mesmo utilizado para o teste de TM. O
que diferencia é o passo 8, que segue:


<ol>



<!--------------  ITEM 01 -------------------------->
<li>
8 O valor da diferença mínima significativa é dada por 

$$\Delta_m=\overline{q}_{(\alpha/2;n.v)} \sqrt{\dfrac{QME}{r}}; $$
Assim, $\Delta_m$ é alterado à medida que o número de médias $m$ se modifica nos $l =n−m+ 1$ grupos, modificando-se o argumento $n$ por $m$, que é um dos parâmetros
da distribuição de $\overline{Q}$.



</li>

</ol>








### Mean grouping based on midrange (MGM test)

A sigla MGM, vem do inglês: “Mean Grouping based on the Midrange”. Da
mesma forma como foi proposto para o teste de TM, usou-se o critério de formar uma partição de m médias ordenadas na posição k, em que ocorre




$$max\left\{\overline{Y}_{(j+1)}- \overline{Y}_{(j)} \right\} = \overline{Y}_{(k+1)} -\overline{Y}_{(k)}$$
para $j = 1,2,...,m - 1$. Se houver empates com dois ou mais valores diferentes
de $k$, digamos $k1, k2$, . . ., então forma-se a partição em que $k= max \left\{ min(k_1,m-k_1),min(k_2,m-k_2) \right\}$. Assim, definiu-se


$$\overline{Y}^*_1 = \frac{\sum\limits_{j=1}^{k}\overline{Y}_{(j)}}{k} $$
e

$$\overline{Y}^*_2 = \frac{\sum\limits_{j=k+1}^{m}\overline{Y}_{(j)}}{m-k} $$

Logo $\overline{Y}^*_m = \overline{Y}^*_1$ se $k \geq m -k$ ou $\overline{Y}^*_m=\overline{Y}^*_2$, caso contrário. Os passos para a aplicação do teste são:

<ol>



<!--------------  ITEM 01 -------------------------->

<li>

Faça $m=n$ e tome as médias ordenadas dos tratamentos por: $\overline{Y}_{(1).},\overline{Y}_{(2).},. . ., \overline{Y}_{(m).};$


</li>

<!--------------  ITEM 02 -------------------------->
<li>

Determina-se $k$ e $\overline{Y}^*_{m}$ como discutido anteriormente;


</li>

<!--------------  ITEM 03 -------------------------->
<li>

Determina-se o valor da estatística por:

$$\overline{r}_{m}= \dfrac {\overline{Y}_{(1)}+\overline{Y}_{(m)}} {2}-\overline{Y}^*_m;$$



</li>

<!--------------  ITEM 04 -------------------------->
<li>

A diferença mínima significativa é


$$ \Delta_{m} = \overline{q}_{\alpha/2;m;v} \sqrt{ \dfrac {QME} {r}}  +  \dfrac {1 }{\sqrt{2m}} \sqrt{\dfrac {QME} {r}}   $$



</li>

<!--------------  ITEM 05 -------------------------->
<li>


Se $\mid \overline{r}_m \mid \leq \Delta_m$,então as m médias são consideradas não diferentes e marca-se o grupo como não divisível e o processo se encerra. Caso contrário, considere que as médias do grupo $\overline{Y}_{(1).},\overline{Y}_{(2).},. . ., \overline{Y}_{(k).};$ como diferentes das médias do grupo $\overline{Y}_{(k+1).},\overline{Y}_{(k+2).},. . ., \overline{Y}_{(m).};$ e vá para o passo 6;

</li>


<!--------------  ITEM 06 -------------------------->
<li>


Para cada grupo obtido e marcado como divisível, considere m o número de médias
do grupo relacionado. Repita os passos de 2 a 5, com uma ressalva, no passo 4,
deve-se usar como diferença mínima significativa:


$$\Delta_m=\overline{q}_{(\alpha/2;n.v)} \sqrt{\dfrac{QME}{r}}. $$
</li>

Esse processo é realizado para todos os grupos até que nenhum outro grupo consiga
ser dividido em dois novos ou até que todos os grupos contenham apenas 1 média.



</ol>





### Mean grouping based on range (MGR test)


Os passos para a aplicação do teste são:



<ol>



<!--------------  ITEM 01 -------------------------->

<li>

Fazer $m=n$ e considerar m médias ordenadas:: $\overline{Y}_{(1).},\overline{Y}_{(2).},. . ., \overline{Y}_{(m).};$


</li>


<!--------------  ITEM 02 -------------------------->
<li>

Determinar $k$ conforme discutido anteriormente;


</li>


<!--------------  ITEM 03 -------------------------->
<li>

Calcular a estatística do teste por:

$$q_m = \overline{Y}_{(m).} - \overline{Y}_{(1).}  $$

</li>



<!--------------  ITEM 04 -------------------------->
<li>

A diferença mínima significativa é:

$$\Delta_m=\overline{q}_{(\alpha;m,v)} \sqrt{\dfrac{QME}{r}}; $$

</li>



<!--------------  ITEM 05 -------------------------->
<li>

Se $ q_m \leq \Delta_m$,então as $m$ médias são consideradas não diferentes, marque o grupo como não divisível e vá para o passo 6. Caso contrário, considere as médias do grupo $\overline{Y}_{(1).},\overline{Y}_{(2).},. . ., \overline{Y}_{(k).};$ como diferentes das médias do grupo $\overline{Y}_{(k+1).},. . ., \overline{Y}_{(m).};$ e vá para o passo 6.


</li>

<!--------------  ITEM 06 -------------------------->
<li>

Para cada grupo obtido e marcado como divisível, considere $m$ o número de médias
do grupo relacionado. Repita os passos de 2 a 5. Esse processo é realizado para
todos os grupos até que nenhum outro grupo consiga ser dividido em dois novos
ou até que todos os grupos contenham apenas 1 média.

</li>



</ol>







<h1 id="tituto_Gui">GUI </h1>


<h1 id="tituto_Tests">Tests</h1>

<h2 id="titulo_Tukey">Tukey midrange test (TM test) </h2>


<h2 id="titulo_SNK">SNK midrange test (SNKM test)</h2>

<h2 id="titulo_MGM">Mean grouping based on midrange (MGM test) </h2>

<h2 id="titulo_MGR">Mean grouping based on range (MGR test) </h2>

<h2 id="titulo_Performance">Performance and evaluation of the tests </h2>
 
<h2 id="titulo_Application">Application and interpretation of tests </h2>
